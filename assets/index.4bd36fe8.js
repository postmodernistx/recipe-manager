import{r as _,o as c,c as l,a as p,b as u,w as g,d as L,t as d,F as v,e as y,f as A,K as C,g as E,h as P,v as S,i as b,j as V,k as j,l as O,m as I,n as T}from"./vendor.b03b8535.js";const D=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}};D();const F="modulepreload",k={},H="/recipe-manager/",R=function(t,r){return!r||r.length===0?t():Promise.all(r.map(o=>{if(o=`${H}${o}`,o in k)return;k[o]=!0;const s=o.endsWith(".css"),i=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${i}`))return;const a=document.createElement("link");if(a.rel=s?"stylesheet":F,s||(a.as="script",a.crossOrigin=""),a.href=o,document.head.appendChild(a),s)return new Promise((n,x)=>{a.addEventListener("load",n),a.addEventListener("error",x)})})).then(()=>t())};var $=(e,t)=>{const r=e.__vccOpts||e;for(const[o,s]of t)r[o]=s;return r};const N={name:"PageHeader"},B={class:"border-b-2 border-b-yellow-400 dark:border-b-stone-700"},K={class:"p-4"};function q(e,t,r,o,s,i){const a=_("router-link");return c(),l("header",B,[p("nav",K,[u(a,{to:{name:"ViewHome"}},{default:g(()=>[L(d(e.locale.home),1)]),_:1})])])}var M=$(N,[["render",q]]);const U={class:"router-view"},W={setup(e){return(t,r)=>{const o=_("router-view");return c(),l(v,null,[u(M),p("section",U,[u(o,null,{default:g(({Component:s})=>[(c(),y(C,null,[(c(),y(A(s)))],1024))]),_:1})])],64)}}},Y={state:()=>({recipesLoaded:!1,recipes:[],categories:[]}),getters:{allRecipes(e){return e.recipes},allRecipesLoaded(e){return e.recipesLoaded},allCategories(e){return e.categories},getRecipeById:e=>t=>e.recipes.filter(r=>r.id===t)[0]},mutations:{saveRecipe(e,t){e.recipes.push(t)},markAllRecipesLoaded(e,t){e.recipesLoaded=t},sortRecipesAlphabetically(e){e.recipes=e.recipes.sort((t,r)=>t.name<r.name?-1:t.name>r.name?1:0)},extractCategories(e){let t=e.recipes.map(r=>r.categories);t=Array.from(t.flat()),e.categories=[...new Set(t)].sort()}},actions:{addRecipe({commit:e},t){e("saveRecipe",t)},setRecipesLoaded({state:e,commit:t},r){t("markAllRecipesLoaded",r),r===!0&&(t("sortRecipesAlphabetically"),t("extractCategories"))}}};var m=E({modules:{recipeStore:Y}});const z={name:"ViewHome",data(){return{recipeList:[],recipeFilter:this.locale.all_categories,filteredRecipes:[]}},mounted(){this.$store.getters.allRecipesLoaded?(this.recipeList=this.$store.getters.allRecipes,this.filterRecipeList()):this.$store.subscribeAction(e=>{e.type==="setRecipesLoaded"&&this.$nextTick(()=>{this.recipeList=this.$store.getters.allRecipes,this.filterRecipeList()})})},methods:{filterRecipeList(){if(this.recipeFilter===this.locale.all_categories){this.filteredRecipes=this.recipeList;return}this.filteredRecipes=this.recipeList.filter(e=>e.categories.includes(this.recipeFilter))}}},G={class:"text-2xl font-bold my-4 text-center"},J={key:0},Q={key:1},X={class:"text-center my-8"},Z={class:"max-w-lg mx-auto"};function ee(e,t,r,o,s,i){const a=_("router-link");return c(),l("div",null,[p("h1",G,d(e.locale.app_title),1),e.$store.getters.allRecipesLoaded?(c(),l("div",Q,[p("section",X,[P(p("select",{"onUpdate:modelValue":t[0]||(t[0]=n=>s.recipeFilter=n),onChange:t[1]||(t[1]=(...n)=>i.filterRecipeList&&i.filterRecipeList(...n))},[p("option",null,d(e.locale.all_categories),1),(c(!0),l(v,null,b(e.$store.getters.allCategories,n=>(c(),l("option",{key:n},d(n),1))),128))],544),[[S,s.recipeFilter]])]),p("ul",Z,[(c(!0),l(v,null,b(s.filteredRecipes,n=>(c(),l("li",{key:n.id,class:"mb-4"},[u(a,{to:{name:"RecipeSingle",params:{name:n.id}}},{default:g(()=>[L(d(n.name),1)]),_:2},1032,["to"])]))),128))])])):(c(),l("div",J,d(e.locale.loading),1))])}var te=$(z,[["render",ee]]);const re=[{path:"/",name:"ViewHome",component:te},{path:"/recipe/:name",name:"RecipeSingle",component:()=>R(()=>import("./RecipeSingle.fe0686e0.js"),["assets/RecipeSingle.fe0686e0.js","assets/RecipeSingle.3e6c040d.css","assets/vendor.b03b8535.js"])}],se=V({history:j("/recipe-manager/"),routes:re,scrollBehavior(e,t,r){return e.hash?{selector:e.hash,behavior:"smooth"}:r||{left:0,top:0,behavior:"smooth"}}});const ie="Home",oe="Recipe Manager",ae="Loading",ne="All categories",ce="Recipe",le="in total",pe="per serving",de="Categories",ue={yields:"Yields",totalTime:"Total time",activeTime:"Active time",passiveTime:"Passive time",rating:"Rating",instructions:"Instructions",ingredients:"Ingredients",nutritionalValue:"Nutritional value",drink:"Pairs with",information:"Information",source:"Source"};var me={home:ie,app_title:oe,loading:ae,all_categories:ne,recipe:ce,total:le,per_serving:pe,categories:de,recipeData:ue};const f=O({render(){return I(W)}});f.config.globalProperties.locale=me;f.use(m);f.use(se);f.mount("#app");let h;h={"./data/recipes/recipe.example.json":()=>R(()=>import("./recipe.example.6a99ed6f.js"),[]),"./data/recipes/recipe2.example.json":()=>R(()=>import("./recipe2.example.1c5610e4.js"),[])};const w=Object.keys(h).length,fe=T(()=>m.getters.allRecipes.length,e=>{w===e&&(console.timeEnd("Loaded recipes in"),console.log("Database contains",w,"recipes"),m.dispatch("setRecipesLoaded",!0),fe())});console.time("Loaded recipes in");for(const e in h)h[e]().then(t=>{let r=e.replace("./data/recipes/","").replace(".json","");r=r.replaceAll(" ","_"),r=r.replaceAll(".","-"),r=encodeURIComponent(r),t.default.id=r,m.dispatch("addRecipe",t.default)}).catch(t=>{console.log("Error catching!",t)});export{$ as _};
